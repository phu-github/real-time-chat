{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project Reactjs\\\\Real-time\\\\real-time-chat\\\\src\\\\Context\\\\AppProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useMemo, useState } from 'react';\nimport useFireStore from '../hooks/useFireStore';\nimport { AuthContext } from './AuthProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/React.createContext();\nexport default function AppProvider({\n  children\n}) {\n  _s();\n\n  const [isAddRoomVisible, setIsAddRoomVisible] = useState(false);\n  const [selectedRoomId, setSelectedRoomId] = useState('');\n  console.log(\"=====isAddRoomVisible = \", isAddRoomVisible);\n  const {\n    user: {\n      uid\n    }\n  } = useContext(AuthContext);\n  /* \r\n  name: room-name,\r\n  description: 'mo ta',\r\n  member: [uid1, uid3, uid3,...]\r\n   */\n\n  const roomsCondition = useMemo(() => {\n    return {\n      fieldName: 'members',\n      operator: 'array-contains',\n      compareValue: uid\n    };\n  }, [uid]);\n  const rooms = useFireStore('rooms', roomsCondition);\n  const selectedRoom = useMemo(() => rooms.find(room => room.id === selectedRoomId), [rooms, selectedRoomId]); // const usersCondition = useMemo(()=>{\n  //     return {\n  //         fieldName: 'uid',\n  //         operator: 'in',\n  //         compareValue: selectedRoom.members\n  //     }\n  // },[selectedRoom.members]);\n  // const members =   useFireStore('users', usersCondition);\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      rooms,\n      isAddRoomVisible,\n      setIsAddRoomVisible,\n      selectedRoomId,\n      setSelectedRoomId\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AppProvider, \"DWmnEobq04z2G48j8nxGGuPEOyE=\", false, function () {\n  return [useFireStore];\n});\n\n_c = AppProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"sources":["D:/Project Reactjs/Real-time/real-time-chat/src/Context/AppProvider.js"],"names":["React","useContext","useMemo","useState","useFireStore","AuthContext","AppContext","createContext","AppProvider","children","isAddRoomVisible","setIsAddRoomVisible","selectedRoomId","setSelectedRoomId","console","log","user","uid","roomsCondition","fieldName","operator","compareValue","rooms","selectedRoom","find","room","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,EAAqCC,QAArC,QAAqD,OAArD;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,SAASC,WAAT,QAA4B,gBAA5B;;AAEA,OAAO,MAAMC,UAAU,gBAAGN,KAAK,CAACO,aAAN,EAAnB;AAEP,eAAe,SAASC,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAAmC;AAAA;;AAC9C,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA2CR,QAAQ,CAAC,KAAD,CAAzD;AACA,QAAM,CAACS,cAAD,EAAiBC,iBAAjB,IAAsCV,QAAQ,CAAC,EAAD,CAApD;AAEAW,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCL,gBAAxC;AACA,QAAM;AAACM,IAAAA,IAAI,EAAE;AAACC,MAAAA;AAAD;AAAP,MAAgBhB,UAAU,CAACI,WAAD,CAAhC;AACA;AACJ;AACA;AACA;AACA;;AACI,QAAMa,cAAc,GAAGhB,OAAO,CAAC,MAAI;AAC/B,WAAO;AACHiB,MAAAA,SAAS,EAAE,SADR;AAEHC,MAAAA,QAAQ,EAAE,gBAFP;AAGHC,MAAAA,YAAY,EAAEJ;AAHX,KAAP;AAKH,GAN6B,EAM5B,CAACA,GAAD,CAN4B,CAA9B;AAOA,QAAMK,KAAK,GAAGlB,YAAY,CAAC,OAAD,EAAUc,cAAV,CAA1B;AAEA,QAAMK,YAAY,GAAGrB,OAAO,CAAC,MACzBoB,KAAK,CAACE,IAAN,CAAYC,IAAD,IAASA,IAAI,CAACC,EAAL,KAAYd,cAAhC,CADwB,EAE3B,CAACU,KAAD,EAAQV,cAAR,CAF2B,CAA5B,CApB8C,CAwB9C;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,sBACI,QAAC,UAAD,CAAY,QAAZ;AAAqB,IAAA,KAAK,EAAE;AAAEU,MAAAA,KAAF;AAASZ,MAAAA,gBAAT;AAA2BC,MAAAA,mBAA3B;AAAgDC,MAAAA,cAAhD;AAAgEC,MAAAA;AAAhE,KAA5B;AAAA,cACKJ;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;GAvCuBD,W;UAkBNJ,Y;;;KAlBMI,W","sourcesContent":["import React, { useContext, useMemo, useState } from 'react';\r\nimport useFireStore from '../hooks/useFireStore';\r\nimport { AuthContext } from './AuthProvider';\r\n\r\nexport const AppContext = React.createContext()\r\n\r\nexport default function AppProvider({ children }) {\r\n    const [isAddRoomVisible, setIsAddRoomVisible ] = useState(false);\r\n    const [selectedRoomId, setSelectedRoomId] = useState('');\r\n\r\n    console.log(\"=====isAddRoomVisible = \", isAddRoomVisible);\r\n    const {user: {uid}} = useContext(AuthContext); \r\n    /* \r\n    name: room-name,\r\n    description: 'mo ta',\r\n    member: [uid1, uid3, uid3,...]\r\n     */\r\n    const roomsCondition = useMemo(()=>{\r\n        return {\r\n            fieldName: 'members',\r\n            operator: 'array-contains',\r\n            compareValue: uid\r\n        }\r\n    },[uid]);\r\n    const rooms = useFireStore('rooms', roomsCondition);\r\n\r\n    const selectedRoom = useMemo(()=>\r\n        rooms.find((room)=> room.id === selectedRoomId)\r\n    ,[rooms, selectedRoomId]);\r\n\r\n    // const usersCondition = useMemo(()=>{\r\n    //     return {\r\n    //         fieldName: 'uid',\r\n    //         operator: 'in',\r\n    //         compareValue: selectedRoom.members\r\n    //     }\r\n    // },[selectedRoom.members]);\r\n\r\n    // const members =   useFireStore('users', usersCondition);\r\n\r\n    return (\r\n        <AppContext.Provider value={{ rooms, isAddRoomVisible, setIsAddRoomVisible, selectedRoomId, setSelectedRoomId }}>\r\n            {children}\r\n        </AppContext.Provider> \r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}